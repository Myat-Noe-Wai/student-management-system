<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>View Courses with students</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" crossorigin="anonymous">
</head>
<body>
	<div th:replace="nav.html"></div>
	<br>
	<div class="container">
    	<rows="row">
		    <h2>View Students by Course</h2>
		
		    <form method="get" th:action="@{/students/coursestudents}">
				<div class="form-group">
			        <label for="courseId">Select Course:</label>
			        <select id="courseId" name="courseId" required class="form-select form-select-sm form-control" style="width: 300px;">
			            <option value="" disabled selected>-- Choose Course --</option>
			            <option th:each="course : ${courses}"
			                    th:value="${course.id}"
			                    th:text="${course.name}"
			                    th:selected="${course.id == selectedCourseId}">
			            </option>
			        </select>
			    </div>
                            
		        <button type="submit" class="btn" style="background-color: #38b000; color: white;">View Students</button>
		    </form>
		
		    <br/>
		
		    <div th:if="${students != null}">
		        <h2>Students Enrolled</h2>
		        <table class="table table-striped table-bordered table-success table-hover">
		            <thead>
		                <tr>
		                    <th>ID</th>
		                    <th>Full Name</th>
		                    <th>Email</th>
		                    <th>Phone</th>
		                    <th>Gender</th>
		                </tr>
		            </thead>
		            <tbody>
		                <tr th:each="student : ${students}">
		                    <td th:text="${student.id}"></td>
		                    <td th:text="${student.firstName + ' ' + student.lastName}"></td>
		                    <td th:text="${student.email}"></td>
		                    <td th:text="${student.phNo}"></td>
		                    <td th:text="${student.gender}"></td>
		                </tr>
		            </tbody>
		        </table>
		    </div>
		</row>
	</container>
</body>
</html>
